{"ast":null,"code":"import _classCallCheck from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/src/components/Messages/MessagesList.js\";\nimport React, { Component } from 'react'; //import the components we will need\n\nimport MessagesCard from './MessagesCard';\nimport MessagesManager from '../../modules/MessagesManager';\n\nvar MessagesList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MessagesList, _Component);\n\n  function MessagesList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MessagesList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MessagesList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      messages: []\n    };\n\n    _this.deleteMessage = function (id) {\n      MessagesManager.delete(id).then(function () {\n        MessagesManager.getAll().then(function (newMessages) {\n          _this.setState({\n            messages: newMessages\n          });\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MessagesList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(\"MESSAGE LIST: ComponentDidMount\"); //getAll from MessagesManager and hang on to that data; put it in state\n\n      MessagesManager.getAll().then(function (messages) {\n        _this2.setState({\n          messages: messages\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"MessageList: Render\");\n      return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n        className: \"section-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn\",\n        onClick: function onClick() {\n          _this3.props.history.push(\"/messages/new\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"New Message\")), React.createElement(\"div\", {\n        className: \"container-cards\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, this.state.messages.map(function (message) {\n        return React.createElement(MessagesCard, Object.assign({\n          key: message.id,\n          message: message,\n          deleteMessage: _this3.deleteMessage\n        }, _this3.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }));\n      })));\n    }\n  }]);\n\n  return MessagesList;\n}(Component);\n\nexport default MessagesList;","map":{"version":3,"sources":["/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/src/components/Messages/MessagesList.js"],"names":["React","Component","MessagesCard","MessagesManager","MessagesList","state","messages","deleteMessage","id","delete","then","getAll","newMessages","setState","console","log","props","history","push","map","message"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;;IAEMC,Y;;;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE;AADN,K;;UAgBRC,a,GAAgB,UAAAC,EAAE,EAAI;AAClBL,MAAAA,eAAe,CAACM,MAAhB,CAAuBD,EAAvB,EACKE,IADL,CACU,YAAM;AACRP,QAAAA,eAAe,CAACQ,MAAhB,GACKD,IADL,CACU,UAACE,WAAD,EAAiB;AACnB,gBAAKC,QAAL,CAAc;AACVP,YAAAA,QAAQ,EAAEM;AADA,WAAd;AAGH,SALL;AAMH,OARL;AASH,K;;;;;;;wCAtBmB;AAAA;;AAChBE,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EADgB,CAEhB;;AACAZ,MAAAA,eAAe,CAACQ,MAAhB,GACKD,IADL,CACU,UAACJ,QAAD,EAAc;AAChB,QAAA,MAAI,CAACO,QAAL,CAAc;AACVP,UAAAA,QAAQ,EAAEA;AADA,SAAd;AAIH,OANL;AAOH;;;6BAcQ;AAAA;;AACLQ,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAEA,aACI,0CACI;AAAS,QAAA,SAAS,EAAC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,IAAI,EAAC,QAAb;AACI,QAAA,SAAS,EAAC,KADd;AAEI,QAAA,OAAO,EAAE,mBAAM;AAAE,UAAA,MAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AAA0C,SAF/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CADJ,EAQI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKb,KAAL,CAAWC,QAAX,CAAoBa,GAApB,CAAwB,UAAAC,OAAO;AAAA,eAC5B,oBAAC,YAAD;AACI,UAAA,GAAG,EAAEA,OAAO,CAACZ,EADjB;AAEI,UAAA,OAAO,EAAEY,OAFb;AAGI,UAAA,aAAa,EAAE,MAAI,CAACb;AAHxB,WAIQ,MAAI,CAACS,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAD4B;AAAA,OAA/B,CADL,CARJ,CADJ;AAqBH;;;;EAtDsBf,S;;AAyD3B,eAAeG,YAAf","sourcesContent":["import React, { Component } from 'react'\n//import the components we will need\nimport MessagesCard from './MessagesCard'\nimport MessagesManager from '../../modules/MessagesManager'\n\nclass MessagesList extends Component {\n    //define what this component needs to render\n    state = {\n        messages: [],\n    }\n\n    componentDidMount() {\n        console.log(\"MESSAGE LIST: ComponentDidMount\");\n        //getAll from MessagesManager and hang on to that data; put it in state\n        MessagesManager.getAll()\n            .then((messages) => {\n                this.setState({\n                    messages: messages\n                    \n                })\n            })\n    }\n\n    deleteMessage = id => {\n        MessagesManager.delete(id)\n            .then(() => {\n                MessagesManager.getAll()\n                    .then((newMessages) => {\n                        this.setState({\n                            messages: newMessages\n                        })\n                    })\n            })\n    }\n\n    render() {\n        console.log(\"MessageList: Render\");\n\n        return (\n            <>\n                <section className=\"section-content\">\n                    <button type=\"button\"\n                        className=\"btn\"\n                        onClick={() => { this.props.history.push(\"/messages/new\") }}>\n                        New Message\n                    </button>\n                </section>  \n                <div className=\"container-cards\">\n                    {this.state.messages.map(message =>\n                        <MessagesCard\n                            key={message.id}\n                            message={message}\n                            deleteMessage={this.deleteMessage}\n                            {...this.props}\n                        />\n                    )}\n                </div>\n            </>\n        )\n    }\n}\n\nexport default MessagesList\n"]},"metadata":{},"sourceType":"module"}