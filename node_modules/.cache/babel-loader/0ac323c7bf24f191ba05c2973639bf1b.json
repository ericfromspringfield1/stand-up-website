{"ast":null,"code":"import _classCallCheck from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/src/components/Audiences/AudiencesEditForm.js\";\nimport React, { Component } from \"react\";\nimport AudiencesManager from \"../../modules/AudiencesManager\";\nimport \"./AudiencesForm.css\";\n\nvar AudiencesEditForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AudiencesEditForm, _Component);\n\n  //set the initial state\n  function AudiencesEditForm() {\n    var _this;\n\n    _classCallCheck(this, AudiencesEditForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AudiencesEditForm).call(this));\n    _this.state = {\n      audience: \"\",\n      loadingStatus: true\n    };\n    _this.state = {\n      showMenu: false\n    };\n    _this.showMenu = _this.showMenu.bind(_assertThisInitialized(_this));\n    _this.closeMenu = _this.closeMenu.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AudiencesEditForm, [{\n    key: \"showMenu\",\n    value: function showMenu(editedAudience) {\n      var _this2 = this;\n\n      editedAudience.preventDefault();\n      this.setState({\n        showMenu: true\n      }, function () {\n        document.addEventListener(\"click\", _this2.closeMenu);\n      });\n    }\n  }, {\n    key: \"closeMenu\",\n    value: function closeMenu(editedAudience) {\n      var _this3 = this;\n\n      if (this.dropdownMenu.contains(editedAudience.target)) {\n        this.setState({\n          showMenu: false\n        }, function () {\n          document.removeEventListener(\"click\", _this3.closeMenu);\n        });\n      }\n\n      handleFieldChange = function handleFieldChange(evt) {\n        var stateToChange = {};\n        stateToChange[evt.target.id] = evt.target.value;\n\n        _this3.setState(stateToChange);\n      };\n\n      updateExistingAudience = function updateExistingAudience(evt) {\n        evt.preventDefault();\n\n        _this3.setState({\n          loadingStatus: true\n        });\n\n        var editedAudience = {\n          audience: _this3.state.audience,\n          id: _this3.props.match.params.audienceId,\n          userId: parseInt(sessionStorage.getItem(\"credentials\"))\n        };\n        AudiencesManager.update(editedAudience).then(function () {\n          return _this3.props.history.push(\"/audiences\");\n        });\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      AudiencesManager.get(this.props.match.params.audienceId).then(function (audience) {\n        _this4.setState({\n          audience: audience.audience,\n          loadingStatus: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.showMenu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"How Was The Crowd?\")), this.state.showMenu ? React.createElement(\"div\", {\n        className: \"menu\",\n        ref: function ref(element) {\n          _this5.dropdownMenu = element;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" Hot \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \" Cold \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \" Corporate \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" Sparse \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \" Engaged \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \" A Buncha Drunks \"), React.createElement(\"button\", {\n        type: \"button\",\n        disabled: this.state.loadingStatus,\n        onClick: this.updateExistingAudience,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \" A Buncha Hecklers \")) : null);\n    }\n  }]);\n\n  return AudiencesEditForm;\n}(Component);\n\nexport default AudiencesEditForm;","map":{"version":3,"sources":["/Users/erictaylor/workspace/capstone-front-end/reactive-nutshell-ain-t-salty/src/components/Audiences/AudiencesEditForm.js"],"names":["React","Component","AudiencesManager","AudiencesEditForm","state","audience","loadingStatus","showMenu","bind","closeMenu","editedAudience","preventDefault","setState","document","addEventListener","dropdownMenu","contains","target","removeEventListener","handleFieldChange","evt","stateToChange","id","value","updateExistingAudience","props","match","params","audienceId","userId","parseInt","sessionStorage","getItem","update","then","history","push","get","element"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AudiencesManager from \"../../modules/AudiencesManager\";\nimport \"./AudiencesForm.css\";\n\nclass AudiencesEditForm extends Component {\n  //set the initial state\n  state = {\n    audience: \"\",\n    loadingStatus: true\n  };\n  constructor() {\n    super();\n\n    this.state = {\n      showMenu: false\n    };\n\n    this.showMenu = this.showMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n  }\n\n  showMenu(editedAudience) {\n    editedAudience.preventDefault();\n\n    this.setState({ showMenu: true }, () => {\n      document.addEventListener(\"click\", this.closeMenu);\n    });\n  }\n\n  closeMenu(editedAudience) {\n    if (this.dropdownMenu.contains(editedAudience.target)) {\n      this.setState({ showMenu: false }, () => {\n        document.removeEventListener(\"click\", this.closeMenu);\n      });\n    }\n\n    handleFieldChange = evt => {\n        const stateToChange = {}\n        stateToChange[evt.target.id] = evt.target.value\n        this.setState(stateToChange)\n      }\n\n    updateExistingAudience = evt => {\n      evt.preventDefault();\n      this.setState({ loadingStatus: true });\n      const editedAudience = {\n        audience: this.state.audience,\n        id: this.props.match.params.audienceId,\n        userId: parseInt(sessionStorage.getItem(\"credentials\"))\n      };\n\n      AudiencesManager.update(editedAudience).then(() =>\n        this.props.history.push(\"/audiences\"));\n    };\n  }\n  componentDidMount() {\n    AudiencesManager.get(this.props.match.params.audienceId).then(audience => {\n      this.setState({\n        audience: audience.audience,\n        loadingStatus: false\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div>\n      <div>\n        <button onClick={this.showMenu}>How Was The Crowd?</button>\n      </div>\n        {this.state.showMenu ? (\n          <div\n            className=\"menu\"\n            ref={element => {\n              this.dropdownMenu = element;\n            }}\n          >\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> Hot </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> Cold </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> Corporate </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> Sparse </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> Engaged </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> A Buncha Drunks </button>\n            <button type=\"button\" disabled={this.state.loadingStatus}\n                onClick={this.updateExistingAudience}\n                className=\"btn btn-primary\"> A Buncha Hecklers </button>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default AudiencesEditForm;\n"]},"metadata":{},"sourceType":"module"}